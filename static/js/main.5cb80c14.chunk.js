(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){e.exports=a(384)},139:function(e,t,a){},143:function(e,t,a){},145:function(e,t,a){},147:function(e,t,a){},191:function(e,t){},193:function(e,t){},239:function(e,t){},290:function(e,t){},382:function(e,t,a){},384:function(e,t,a){"use strict";a.r(t);var n,o=a(5),s=a.n(o),r=a(126),i=a.n(r),l=(a(139),a(31)),c=a.n(l),u=a(61),m=a(127),d=a(128),p=a(132),h=a(129),f=a(133),y=(a(143),a(145),function(e){var t=e.message,a=e.status;return""!==t?s.a.createElement("div",{className:"alert ".concat(a)},t):s.a.createElement("div",null)}),b=(a(147),function(e){var t=e.message,a=e.loading,n=e.onClick,o=!0===a?s.a.createElement("div",null,s.a.createElement("i",{className:"fa fa-spinner fa-spin"})," Loading"):t;return s.a.createElement("div",{className:"button-container"},s.a.createElement("button",{className:"button blue",onClick:n},o))}),g=a(130),w=a.n(g);if("undefined"!==typeof window&&"undefined"!==typeof window.web3){var v=window.web3.currentProvider;n=new w.a(v)}else n=null;var k=n,E=a(62),x=null;null!=k&&(x=new k.eth.Contract(E.interface,E.address));var C=x,P=a(131),M=a.n(P),T=(a(382),function(e){var t=e.show,a=e.onClick,n=e.children;return s.a.createElement("section",null,s.a.createElement(M.a,{visible:t,width:"500",height:"150",effect:"fadeInUp",onClickAway:a},s.a.createElement("div",{className:"modal-background"},n)))}),S=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(a=Object(p.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).state={message:"",loading:!1,status:"",peopleThatPayed:0,modal:!1},a.amountToPay="0.01",a.alert=null,a.modalContent="",a}return Object(f.a)(t,e),Object(d.a)(t,[{key:"scrollToBottom",value:function(){this.alert.scrollIntoView({behavior:"smooth"})}},{key:"getHowManyPeoplePayed",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==k){e.next=17;break}return e.prev=1,e.next=4,k.eth.getAccounts();case 4:return t=e.sent,console.log("Asking for people that payed on init from "+t[0]),e.next=8,C.methods.findHowManyPeoplePayed().call({from:t[0]});case 8:return a=e.sent,console.log(a),e.abrupt("return",a);case 13:e.prev=13,e.t0=e.catch(1),console.error("Couldn't fetch how many people paid",e.t0.message);case 16:return e.abrupt("return",null);case 17:case"end":return e.stop()}},e,this,[[1,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"displayError",value:function(e){this.setState({message:e.message,status:"",loading:!1}),this.scrollToBottom()}},{key:"displayModal",value:function(e,t){var a;switch(e){case"no_metamask":a=s.a.createElement("div",null,s.a.createElement("h3",{className:"Subtitle"},"You need MetaMask to perform a transaction"),"You need it to interact with a Dapps.",s.a.createElement("br",null),"Please, install it ",s.a.createElement("a",{href:"https://metamask.io/",target:"_blank",rel:"noopener noreferrer"},"using this link"));break;case"paid":a=s.a.createElement("h3",{className:"Subtitle"},t," people paid to see how many people paid!");break;default:throw Error("Incorrect modal parameter")}this.modalContent=a,this.setState({modal:!0,message:"",loading:!1})}},{key:"satisfyCuriosity",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t,a,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.loading){e.next=2;break}return e.abrupt("return");case 2:if(this.setState({message:"Loading, operations take about 15 seconds to complete.",status:"info",loading:!0}),null!=k){e.next=7;break}this.displayModal("no_metamask"),e.next=36;break;case 7:return e.next=9,this.getHowManyPeoplePayed();case 9:if(null===(t=e.sent)){e.next=14;break}this.displayModal("paid",t),e.next=36;break;case 14:return e.next=16,k.eth.getAccounts();case 16:if(a=e.sent,this.scrollToBottom(),e.prev=18,0!==a.length){e.next=23;break}return this.setState({message:"You need to be logged inside Metamask",status:"error",loading:!1}),this.scrollToBottom(),e.abrupt("return");case 23:return this.setState({message:"Please wait. The operation takes about 15 seconds since it's accepted.",status:"info",loading:!0}),e.next=26,C.methods.payToSatisfyCuriosity().send({from:a[0],value:k.utils.toWei(this.amountToPay,"ether"),gas:"1000000"});case 26:return e.next=28,this.getHowManyPeoplePayed();case 28:n=e.sent,this.displayModal("paid",n),e.next=36;break;case 32:e.prev=32,e.t0=e.catch(18),console.error(e.t0),this.displayError(e.t0);case 36:case"end":return e.stop()}},e,this,[[18,32]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(T,{onClick:function(){return e.setState({modal:!1})},show:this.state.modal},this.modalContent),s.a.createElement("div",{className:"App"},s.a.createElement("h1",{className:"Title"},"How many people paid ",this.amountToPay," ether to see how many people paid ",this.amountToPay," ether?"),s.a.createElement("h3",{className:"Subtitle"},"Curious?"),s.a.createElement(b,{onClick:this.satisfyCuriosity.bind(this),message:"Find out now",loading:this.state.loading}),s.a.createElement("div",{ref:function(t){e.alert=t}},s.a.createElement(y,{message:this.state.message,status:this.state.status}))))}}]),t}(o.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},62:function(e){e.exports={address:"0x1b72C6105f0fed6001aC70D00Df5ce8D5229A75F",interface:[{constant:!1,inputs:[],name:"payToSatisfyCuriosity",outputs:[],payable:!0,stateMutability:"payable",type:"function",signature:"0x7033f906"},{constant:!1,inputs:[{name:"minimumAmount",type:"uint256"}],name:"changeMinimumAmount",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function",signature:"0x77eab3e3"},{constant:!0,inputs:[],name:"findHowManyPeoplePayed",outputs:[{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function",signature:"0xbcf1798d"},{inputs:[{name:"minimumAmount",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"constructor",signature:"constructor"}],amountToPay:"9000000000000000"}}},[[134,2,1]]]);
//# sourceMappingURL=main.5cb80c14.chunk.js.map